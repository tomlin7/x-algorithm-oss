syntax = "proto3";

package xai_thunder_proto;

service InNetworkPostsService {
  rpc GetInNetworkPosts (GetInNetworkPostsRequest) returns (GetInNetworkPostsResponse);
}

message GetInNetworkPostsRequest {
  uint64 user_id = 1;
  repeated uint64 following_user_ids = 2;
  repeated uint64 exclude_tweet_ids = 3;
  int32 max_results = 4;
  bool debug = 5;
  bool is_video_request = 6;
  string algorithm = 7;
}

message GetInNetworkPostsResponse {
  repeated LightPost posts = 1;
}

message LightPost {
  int64 created_at = 1;
  bool is_reply = 2;
  uint64 author_id = 3;
  int64 post_id = 4;
  optional int64 in_reply_to_post_id = 5;
  optional int64 in_reply_to_user_id = 6;
  bool is_retweet = 7;
  optional int64 source_post_id = 8;
  optional int64 source_user_id = 9;
  bool has_video = 10;
  optional int64 conversation_id = 11;
}

message TweetDeleteEvent {
  int64 post_id = 1;
  int64 deleted_at = 2;
}
